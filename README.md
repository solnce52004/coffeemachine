
*************************

### Тестовое задание:

**Написать программу для работы кофеварки и управляемую через браузер**.<br>
Использовать **SpringFramework** или **SpringBoot**.<br>
Вести учет работы в **PostgresSQL**.<br>
Интерфейс не нужен, запросы через на **SwaggeUI**.

*************************

Во избежание разночтений, ввиду отсутствия уточняющих деталей ТЗ, ниже приведено описание реализации поставленной задачи с соблюдением основных требований.

Кофемашина - одна в офисе, все сотрудники имеют к ней доступ в порядке живой очереди, работает однопоточно.
Исключение - проверка и пополнение кофе и воды в резервуар происходит автоматически асинхронно.

Доступные шаги использования в строго определенном порядке:
    1. Включить питание
    2. Запустить автоматическую проверку/пополнение кофе и воды
    3. Нажать кнопку "Варить кофе"
    4. Выключить питание

В кофеварке крепость и объем приготовляемого напитка не регулируется.

#### Реализация:
В кодовой базе проекта используются актуальные версии библиотек (Spring Boot 2.6.3).
Основа проекта - Spring Statemachine.

1. Персист состояний Statemachine в базу (Postgres)
2. Персист бизнес-сущностей в базу
3. Версионирование изменений базы данных (Flyway)
4. Логирование (архивирование) в локальную директорию (Log4j2)
5. Обработка http-ошибок
6. Покрытие кода юнит-тестами
7. Описание api-методов (SwaggeUI)
8. UML-диаграмма

#### Использованы паттерны проектированя:
1. Command (в обработчиках переходов состояний)
2. Register

#### Требования
JDK 11
gradle 7.4

#### Профили:
dev - По умолчанию, база данных H2 (In memory)
prod - База данных PostgreSQL

#### Документация API
[Swagger Api Documentation](http://localhost:8010/coffeemachine/swagger-ui/)

| Method | Description | URL |
|----------------|---------|----------------|
| GET | Включить | {URL}/coffeemachine/api/v1/turn-on |
| GET | Проверка ингредиентов | {URL}/coffeemachine/api/v1/check-resources |
| GET | Варить | {URL}/coffeemachine/api/v1/start-brew |
| GET | Выключить | {URL}/coffeemachine/api/v1/turn-off |
